# 模型设置页面 UI 参考

## 页面布局

模型设置页面分为两个主要部分：

### 1. 已配置的模型列表（上半部分）

这是一个表格视图，显示所有已配置的模型：

**表格列**：

- **配置名称**：模型配置的自定义名称
- **模型提供商**：显示为彩色标签
  - OpenAI (绿色)
  - Anthropic (蓝色)
  - Google AI (红色)
  - Azure OpenAI (青色)
  - 变脸 (紫色)
  - Custom OpenAI (橙色)
- **模型**：模型标识符（如 gpt-4, claude-3-opus）
- **Base URL**：API 基础地址（如果有）
- **状态**：开关按钮，可以启用/禁用模型
- **操作**：
  - 验证按钮：测试模型配置是否可用
  - 编辑按钮：编辑模型配置
  - 删除按钮：删除模型配置（带确认对话框）

**功能特性**：

- 支持分页显示
- 显示总记录数
- 可调整每页显示数量
- 横向滚动支持（宽度 1200px）

### 2. 添加模型配置（下半部分）

这是一个动态表单，根据选择的提供商显示不同的配置项：

**通用字段**：

- **配置名称**：必填，用于标识这个配置
- **模型提供商**：必填，下拉选择
- **模型**：必填（Azure OpenAI 除外），模型标识符

**提供商特定字段**：

#### OpenAI / Anthropic / Google AI

```
┌─────────────────────────────────────┐
│ 提供商配置                           │
├─────────────────────────────────────┤
│ API Key: [密码输入框]                │
└─────────────────────────────────────┘
```

#### 变脸 (Bianlian)

```
┌─────────────────────────────────────┐
│ 提供商配置                           │
├─────────────────────────────────────┤
│ API Key: [密码输入框]                │
│ Base URL: [文本输入框]               │
└─────────────────────────────────────┘
```

#### Azure OpenAI

```
┌─────────────────────────────────────┐
│ 提供商配置                           │
├─────────────────────────────────────┤
│ API Key: [密码输入框]                │
│ Base URL: [文本输入框] ⓘ             │
│ Deployment Name: [文本输入框] ⓘ      │
│ API Version: [文本输入框] ⓘ          │
└─────────────────────────────────────┘
```

#### Custom OpenAI

```
┌─────────────────────────────────────┐
│ 提供商配置                           │
├─────────────────────────────────────┤
│ API Key: [密码输入框]                │
│ Base URL: [文本输入框]               │
│ Custom Query Params: [多行文本框] ⓘ  │
└─────────────────────────────────────┘
```

**操作按钮**：

- **添加配置**：主按钮，提交表单
- **重置**：清空表单内容

## 交互流程

### 添加模型配置流程

1. 用户输入配置名称
2. 用户选择模型提供商
3. 表单动态显示对应的配置字段
4. 用户填写必填字段
5. 点击"添加配置"按钮
6. 显示成功/失败消息
7. 成功后表单自动重置，列表自动刷新

### 启用/禁用模型流程

1. 用户点击状态开关
2. 开关显示加载状态
3. 更新成功后显示消息
4. 开关状态更新

### 验证模型配置流程

1. 用户点击"验证"按钮
2. 按钮显示加载状态
3. 系统测试模型连接
4. 显示验证结果消息

### 删除模型配置流程

1. 用户点击"删除"按钮
2. 显示确认对话框
3. 用户确认删除
4. 显示删除结果消息
5. 列表自动刷新

## 响应式设计

- 表格支持横向滚动，适配小屏幕
- 表单采用垂直布局，适合各种屏幕尺寸
- 操作按钮使用 Space 组件保持间距

## 错误处理

- 表单验证：必填字段未填写时显示错误提示
- API 错误：操作失败时显示友好的错误消息
- 加载状态：所有异步操作都有加载指示器

## 用户体验优化

- 使用 React Query 自动缓存数据
- 操作成功后自动刷新列表
- 表单提交成功后自动重置
- 删除操作需要二次确认
- 所有按钮都有加载状态反馈
- 使用彩色标签区分不同的提供商
- 工具提示说明复杂字段的用途

## 参考示例图

根据您提供的示例图，页面应该呈现类似的视觉效果：

- 深色主题背景
- 卡片式布局
- 清晰的分组和分隔
- 一致的间距和对齐
- 友好的交互反馈

## 技术实现要点

1. **类型安全**：所有组件都使用 TypeScript 严格类型
2. **状态管理**：使用 React Query 管理服务端状态
3. **表单处理**：使用 Ant Design Form 组件
4. **错误处理**：统一的错误提示机制
5. **性能优化**：合理使用 React Query 缓存
6. **代码复用**：提取可复用的 hooks
